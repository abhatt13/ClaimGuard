# ClaimGuard Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# DATABASE CONFIGURATION (Local Docker)
# ============================================================================
DATABASE_URL=postgresql://claimguard_user:claimguard_pass@localhost:5432/claimguard
REDIS_URL=redis://localhost:6379/0
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=claimguard123

# ============================================================================
# VECTOR DATABASE (Local Qdrant)
# ============================================================================
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=  # Leave empty for local instance

# ============================================================================
# FILE STORAGE (Local MinIO - S3 Compatible)
# ============================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=claimguard
MINIO_SECRET_KEY=claimguard123
MINIO_BUCKET=claimguard-uploads
MINIO_USE_SSL=false

# ============================================================================
# AI SERVICES (Budget-Optimized)
# ============================================================================
# OpenAI API - Use GPT-3.5-turbo and gpt-4o-mini for cost savings
# Expected cost: ~$20-30/month with caching
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo  # Cheaper than GPT-4 (30x cost reduction)
OPENAI_VISION_MODEL=gpt-4o-mini  # Cheapest vision model
OPENAI_EMBEDDING_MODEL=text-embedding-3-small  # Smaller, cheaper embeddings

# Optional: Anthropic Claude (if you want an alternative)
ANTHROPIC_API_KEY=  # sk-ant-your-key-here (optional)

# Optional: Local LLM with Ollama (FREE alternative)
# Uncomment to use local models like Llama, Mistral
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL=llama2  # or mistral, codellama, etc.

# ============================================================================
# CACHING CONFIGURATION (Cost Optimization)
# ============================================================================
ENABLE_LLM_CACHE=true  # Cache all AI responses
CACHE_TTL_SECONDS=86400  # 24 hours
CACHE_HIT_RATE_TARGET=0.90  # Target 90% cache hits

# ============================================================================
# SECURITY
# ============================================================================
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
BCRYPT_ROUNDS=12

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO
API_PORT=8000
GRADIO_PORT=7860

# CORS Settings (for local development)
CORS_ORIGINS=["http://localhost:3000", "http://localhost:7860", "http://localhost:8000"]

# ============================================================================
# RATE LIMITING (Cost Control)
# ============================================================================
RATE_LIMIT_PER_MINUTE=60
MAX_CLAIMS_PER_DAY=1000  # Limit for cost control

# ============================================================================
# ML MODEL SETTINGS
# ============================================================================
FRAUD_MODEL_PATH=app/ml/models/fraud_detector_v1.pkl
FRAUD_MODEL_THRESHOLD=0.5
DAMAGE_MODEL_PATH=app/ml/models/damage_classifier_v1.pkl

# ============================================================================
# DATASET PATHS (Local)
# ============================================================================
KAGGLE_FRAUD_DATA_PATH=data/raw/kaggle_fraud/
VEHIDE_IMAGES_PATH=data/raw/vehide_damage/
ROBOFLOW_IMAGES_PATH=data/raw/roboflow_damage/
POLICY_DOCUMENTS_PATH=data/policies/

# ============================================================================
# WORKFLOW SETTINGS
# ============================================================================
INSTANT_APPROVAL_THRESHOLD=5000  # Claims under $5000 can be auto-approved
DETAILED_REVIEW_THRESHOLD=25000  # Claims under $25000 go to detailed review
FRAUD_SCORE_THRESHOLD=0.5  # Scores above this trigger investigation

# ============================================================================
# MONITORING & METRICS
# ============================================================================
ENABLE_METRICS=true
PROMETHEUS_PORT=9090

# ============================================================================
# OPTIONAL: Free Tier Cloud Services (Future Deployment)
# ============================================================================
# Uncomment when ready to deploy

# Railway/Render Deployment
# RAILWAY_API_KEY=
# RENDER_API_KEY=

# Supabase (Free PostgreSQL)
# SUPABASE_URL=
# SUPABASE_KEY=

# Upstash (Free Redis)
# UPSTASH_REDIS_URL=

# Cloudflare R2 (Free object storage)
# R2_ACCOUNT_ID=
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_BUCKET_NAME=
